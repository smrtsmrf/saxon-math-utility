<navbar></navbar>

<div id="main_container">
	<sidebar></sidebar>

	<section class="modify_container">
		<h1 class="text-center modify_title">Modify {{subjectTitle}} HW</h1>
		<h4 class="text-center">Click the lesson number to skip or unskip that lesson</h4>

		<section class="modify_content">
			<section ng-show="!saving" id="buttons">
				<div ng-repeat="lesson in lessons">
					<button id="lesson_button" ng-click="show = !show; updateSkipped(lesson)" ng-class="{'btn-primary' : show, 'btn-primary' : $root[subject+'Skipped'].indexOf(lesson) === -1}" class="btn">{{lesson}}</button>
				</div>
				<div ng-if="user.type=='admin'" id="update_div">
					<button class="btn btn-success" id="update" ng-click="storeSkipped()">{{buttonText}}</button>
				</div>
		
				<div ng-if="user.type=='teacher'" id="update_div">
					<button ng-if="buttonText=='Request Update'" class="btn btn-success" id="update" data-toggle="modal" data-target="#reasoning" ng-click="preReq()">{{buttonText}}</button>
					<button ng-if="buttonText!='Request Update'" class="btn btn-success" id="update" ng-click="requestUpdate()">{{buttonText}}</button>
				</div>
		
				<!-- Modal -->
				<request></request>
					
			</section>
		
			<section ng-show="saving" id="modify_saving">
				<h1 ng-if="user.type=='admin' || showAdminKey == true" class="text-center">Updating <i class="fa fa-spin fa-spinner"></i></h1>
				<h1 ng-if="user.type=='teacher' && showAdminKey == false" class="text-center">Sending <i class="fa fa-spin fa-spinner"></i></h1>
			</section>
		</section>
	</section>
</div>